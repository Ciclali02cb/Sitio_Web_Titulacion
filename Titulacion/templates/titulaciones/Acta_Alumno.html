<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <style>
        /* Estilos generales */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }
        
        /* Contenedor del encabezado beige */
        .header-container {
            width: 21.5cm;
            background-color: #f5f5dc;
            padding: 0.5cm 1.5cm;
            margin: 0 auto 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative;
        }
        
        /* Contenedor principal (hoja de Word) */
        .page-container {
            width: 21.6cm;
            min-height: 27.9cm;
            margin: 0 auto;
            padding: 2.5cm 2cm 2cm 3cm; /* Margen izquierdo 3cm */
            background-color: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            position: relative;
            font-size: 10pt;
            box-sizing: border-box; 
        }
         
        /* Estilos para el título */
        .document-title {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        .document {
        font-family: Arial, sans-serif; /* Fuente Arial */
        font-size: 30px;               /* Más grande (antes 24px) */
        font-weight: 900;              /* Negrita extragruesa (700=normal bold, 900=máximo) */
        color: #333;                   /* Color oscuro */
        margin-bottom: 20px;           /* Espaciado inferior */
        text-align: center;            /* Centrado */
        text-transform: uppercase;     /* Opcional: mayúsculas */
        letter-spacing: 1px;           /* Opcional: espacio entre letras */
        }
        
        .title {
            font-weight: bold;
            text-align: center;
            font-size: 10pt;
            margin-bottom: 20px;
            text-decoration: underline;
        }
        
        /* Estilos para los párrafos */
        .text-justify {
            text-align: justify;
            margin-bottom: 15px;
            font-size: 9.5pt;
            margin-left: 2.5cm;    /* Margen izquierdo de 3.5 cm */
            margin-right: 3cm;   /* Margen derecho de 5.5 cm */
            text-indent: 0;
            width: auto;          /* El ancho se ajustará automáticamente */
        }
        
        .text-center {
            text-align: center;
            font-size: 9.5pt;
        }
        
        /* Estilos para las imágenes */
        .oval-photo {
            position: absolute;
            left: 1.5cm;
            top: 8.3cm;
            width: 3cm;
            height: 5.3cm;
            border-radius: 50%;
            border: 1px solid #000;
            object-fit: cover;
        }
        
        .right-image {
            position: absolute;
            right: 2cm;
            top: 2.5cm;
            width: 1.73cm;
            height: 3.46cm;
            object-fit: cover;
        }
        
        /* Estilos para las firmas */
        .signature-section {
            margin-top: 50px;
        }
        
        .president {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .secretary-vocal {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
        }
        .signature-section div > p {
            margin: 0.2em 0; /* Márgenes muy reducidos (0.2em ≈ 3px) */
        }
        .secretary, .vocal {
            text-align: center;
            width: 45%;
        }
        
        .director {
            text-align: center;
            margin-top: 30px;
        }
        
        .signature-line {
            width: 200px;
            border-top: 1px solid rgb(0, 0, 0);
            margin: 0 auto;
            padding-top: 0.5px;
        }
        
        /* Estilos para los botones */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
        }
        
        .btn {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 13px;
        }
        
        .btn-back {
            background-color: #6c757d;
            color: white;
        }
        
        .btn-back:hover {
            background-color: #5a6268;
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .btn-pdf {
            background-color: #dc3545;
            color: white;
        }
        
        .btn-pdf:hover {
            background-color: #c82333;
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .btn-save {
            padding: 8px 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            position: fixed;
            bottom: 20px;
            right: 2%;
            transform: none;
            white-space: nowrap;
        }
        
        .btn-save:hover {
            background: #d47440;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        /* Estilos para el encabezado */
        .institutional-text {
            font-weight: bold; 
            text-align: center;
            font-size: 11.5pt;
            margin-bottom: 5px;
            margin: right 0.2cm; 
            width: calc(100% - 1cm);
        }
        .institutional-text2 {
            font-weight: bold;
            text-align: center;
            font-size: 12pt;
            margin-bottom: 5px;
        }
        
        .document-title {
            font-weight: normal; 
            text-align: center;
            font-size: 11pt;
            margin-bottom: 20px;
            text-decoration: none; 
        }
        /* Estilo para los inputs */
        .input-text {
            border: none;
            border-bottom: 1px solid black;
            outline: none;
            background: transparent;
            padding: 0 2px;
        }
        
        .input-day {
            width: 2cm;
            text-align: center;
            border: none;
            border-bottom: 1px solid black;
            font-size: 9.5pt; 
            padding: 0;
            margin: 0 5px;
            outline: none;
        }
        
        .input-month {
            width: 2.3cm;
            text-align: center;
            border: none;
            border-bottom: 1px solid black;
            font-size: 9.5pt; 
            padding: 0;
            margin: 0 5px;
            outline: none;
        }
        
        .input-year {
            width: 2.3cm;
            text-align: center;
            border: none;
            border-bottom: 1px solid black;
            font-size: 9.5pt; 
            padding: 0;
            margin: 0 5px;
            outline: none;
        }
        
        .input-time {
            width: 1.9cm;
            text-align: center;
            border: none;
            border-bottom: 1px solid black;
            font-size: 9.5pt; 
            padding: 0;
            margin: 0 5px;
            outline: none;
        }
        
        .input-number {
            width: 1.2cm;
            text-align: center;
            border: none;
            border-bottom: 1px solid black;
            font-size: 9.5pt; 
            padding: 0;
            margin: 0 5px;
            outline: none;
        }
        
        /* Estilos para impresión */
        @media print {
            body {
                background-color: transparent;
                padding: 0;
            }
            
            .header-container,
            .action-buttons,
            .btn-save,
            form[style*="position: absolute; bottom: 20px;"] {
            display: none !important;
            }
            .page-container {
                box-shadow: none;
                padding: 2.5cm 2cm 2cm 3cm;
                width: auto;
                height: auto;
                margin: 0;
            }
            
           
        }
        @page{
            size: A4;
            margin: 0;
        }
    </style>
</head>
<body>
    <!-- Encabezado con botones -->
    <div class="header-container">     
        <div class="document">ACTA DE TITULACIÓN</div>
          {% load static %}
        
        <div class="action-buttons">
            <button class="btn btn-back" onclick="window.history.back()">Regresar</button>
            <button class="btn btn-pdf" onclick="generatePDF()">Generar PDF</button>
        </div>
    </div>
    
    <!-- Contenedor principal (hoja de Word) -->
    <div class="page-container">
        <!-- Óvalo a la izquierda -->
        <img src="tu_imagen_ovalada.jpg" alt="" class="oval-photo">
        
        <!-- Imagen a la derecha -->
        <img src="{% static 'IMG/logo.png' %}" alt="Imagen derecha" class="right-image">
        
        <div class="header">
            <p class="institutional-text">GOBIERNO DEL ESTADO DE VERACRUZ DE IGNACIO DE LA LLAVE</p>
            <p class="institutional-text2">INSTITUTO TECNOLÓGICO SUPERIOR DE ACAYUCAN</p>
            <p class="document-title">ACTA DE EXAMEN PROFESIONAL</p>
        </div>
        
        <form method="post" id="main-form">
            {% csrf_token %}
            <p class="text-justify">
                En     la     Ciudad     de    Acayucan, Ver., a      los 
                <input type="text" name="dia_examen" class="input-text input-day" value="{{ form.dia_examen.value|default:'1' }}" maxlength="2"> días del mes de 
                <input type="text" name="mes_examen" class="input-text input-month" value="{{ form.mes_examen.value|default:'enero' }}"> de 
                <input type="text" name="anio_examen" class="input-text input-year" value="{{ form.anio_examen.value|default:'2023' }}" maxlength="4">, siendo las 
                <input type="text" name="hora_inicio" class="input-text input-time" value="{{ form.hora_inicio.value|default:'12:00' }}" placeholder="HH:MM" maxlength="5"> horas, se reunieron 
                en La Sala de Titulación de Titulacion Virtual del Instituto Tecnológico Superior de 
                Acayucan, clave 30EIT0010B, los integrantes del Jurado.
            </p>

            <p class="text-justify">Presidente (a): 
                {% if titulacion.asesor %}
                    {{ titulacion.asesor.sigla }} 
                    {{ titulacion.asesor.nombreProfesor }}
                    {{ titulacion.asesor.apellidoPaterno }} 
                    {{ titulacion.asesor.apellidoMaterno }}
                {% else %}
                    -
                {% endif %}
            </p>
            

            <p class="text-justify">Secretario (a): 
                {% if titulacion.revisor_1 %}
                    {{ titulacion.revisor_1.sigla }} 
                    {{ titulacion.revisor_1.nombreProfesor }}
                    {{ titulacion.revisor_1.apellidoPaterno }} 
                    {{ titulacion.revisor_1.apellidoMaterno }}
                {% else %}
                    -
                {% endif %}
            </p>

            <p class="text-justify">Vocal: 
                {% if titulacion.revisor_2 %}
                    {{ titulacion.revisor_2.sigla }} 
                    {{ titulacion.revisor_2.nombreProfesor }}
                    {{ titulacion.revisor_2.apellidoPaterno }} 
                    {{ titulacion.revisor_2.apellidoMaterno }}
                {% else %}
                    -
                {% endif %}
            </p>
            
            <p class="text-justify">
                Y de acuerdo a las disposiciones reglamentarias en vigor sobre la Titulación Integral, se
                procedió a efectuar el Acto de Recepción Profesional a el (la)
                C. {{ titulacion.nombre }} {{titulacion.apellido_paterno}} {{titulacion.apellido_materno}} No. de Control
                {{ titulacion.matricula }} egresado (a) del Instituto Tecnológico Superior de 
                Acayucan, pasante de la carrera de
                {{ titulacion.carrera }}.
            </p>
            
            <p class="text-justify">
                Tomando en cuenta los integrantes del Jurado, el contenido del Trabajo Profesional,
                cuyo tema es: {{ titulacion.nombre_del_proyecto }}
            </p>
        
           <p class="text-justify">
    y la réplica del mismo, dictaminó que fuera 
    <input type="text" name="dictamen" class="input-text" value="Aprobado" style="width: 4cm; text-align: center;"></p>
            <p class="text-justify">
                El (la) Presidente (a) del Jurado le hizo saber al sustentante el resultado obtenido,
                el Código de Ética Profesional y le tomó la Protesta de Ley. Dándose por terminado
                el Acto a las <input type="text" name="hora_fin" class="input-text input-time" value="{{ form.hora_fin.value|default:'13:00' }}" placeholder="HH:MM" maxlength="5"> horas, se asentó la presente en el libro para Actas de Examen
                Profesional por Titulación Integral No. <input type="text" name="libro" class="input-text input-number" value="{{ form.libro.value|default:'1' }}"> a las 
                <input type="text" name="foja" class="input-text input-number" value="{{ form.foja.value|default:'1' }}"> fojas, autorizado por la H.
                Junta Directiva del Instituto Tecnológico Superior de Acayucan fecha 
                <input type="text" name="dia_firma" class="input-text input-day" value="{{ form.dia_firma.value|default:'1' }}" maxlength="2"> de 
                <input type="text" name="mes_firma" class="input-text input-month" value="{{ form.mes_firma.value|default:'enero' }}"> de 
                <input type="text" name="anio_firma" class="input-text input-year" value="{{ form.anio_firma.value|default:'2023' }}" maxlength="4">
                y una vez escrita, leída y aprobada la firmaron
                para constancia las personas que en el acto intervinieron.
            </p>

            <p class="text-justify">
                Para los usos legales correspondientes, se expide la presente en la Ciudad de
                Acayucan, Veracruz, a los <input type="text" name="dia_firmma" class="input-text input-day" value="{{ form.dia_firmma.value|default:'1' }}" maxlength="2"> días del mes de 
                <input type="text" name="mes_firma_final" class="input-text input-month" value="{{ form.mes_firma_final.value|default:'enero' }}"> del año 
                <input type="text" name="anio_firmma" class="input-text input-year" value="{{ form.anio_firmma.value|default:'2023' }}" maxlength="4">.
            </p>
    </form>
           
        <!-- Sección de firmas -->
        <div class="signature-section">
            <div class="president">
                <p>PRESIDENTE (A)</p>
                <p>
                    {% if titulacion.asesor %}
                        {{ titulacion.asesor.sigla }} 
                        {{ titulacion.asesor.nombreProfesor }}
                        {{ titulacion.asesor.apellidoPaterno }} 
                        {{ titulacion.asesor.apellidoMaterno }}
                    {% else %}
                        -
                    {% endif %}
                </p>
                <div class="signature-line"></div>
                <p>CÉDULA PROFESIONAL: 
                    {% if titulacion.asesor.cedulaProfesor %}
                        {{ titulacion.asesor.cedulaProfesor }}
                    {% else %}
                        -
                    {% endif %}
                </p>
            </div>
            
            <div class="secretary-vocal">
                <div class="secretary">
                    <p>SECRETARIO (A)</p>
                    <p>
                        {% if titulacion.revisor_1 %}
                            {{ titulacion.revisor_1.sigla }} 
                            {{ titulacion.revisor_1.nombreProfesor }}
                            {{ titulacion.revisor_1.apellidoPaterno }} 
                            {{ titulacion.revisor_1.apellidoMaterno }}
                        {% else %}
                            -
                        {% endif %}
                    </p>
                    <div class="signature-line"></div>
                    <p>CÉDULA PROFESIONAL: 
                        {% if titulacion.revisor_1.cedulaProfesor %}
                            {{ titulacion.revisor_1.cedulaProfesor }}
                        {% else %}
                            -
                        {% endif %}
                    </p>
                </div>
                
                <div class="vocal">
                    <p>VOCAL</p>
                    <p>
                        {% if titulacion.revisor_2 %}
                            {{ titulacion.revisor_2.sigla }} 
                            {{ titulacion.revisor_2.nombreProfesor }}
                            {{ titulacion.revisor_2.apellidoPaterno }} 
                            {{ titulacion.revisor_2.apellidoMaterno }}
                        {% else %}
                            -
                        {% endif %}
                    </p>
                    <div class="signature-line"></div>
                    <p>CÉDULA PROFESIONAL: 
                        {% if titulacion.revisor_2.cedulaProfesor %}
                            {{ titulacion.revisor_2.cedulaProfesor }}
                        {% else %}
                            -
                        {% endif %}
                    </p>
                </div>
            </div>
            
           <div class="director">
                <p>DIRECTOR (A)</p>
                <p><input type="text" name="nombre_director" class="input-text" 
                   value="{{ form.nombre_director.value|default:'DR. Ricardo Ávila García' }}" 
                   style="width: 200px; text-align: center;"></p>
            </div>
        </div>
         <!-- Botón de guardar en el header -->
        <form method="post" style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);">
            {% csrf_token %}
            <button type="submit" class="btn-save">Guardar Cambios</button>
        </form>
    </div>
    
    <script>
        function generatePDF() {
            // Aquí iría tu lógica para generar el PDF
            window.print(); // Esto es solo un ejemplo
        }
        
        // Manejar el envío del formulario
        document.addEventListener('DOMContentLoaded', function() {
            const saveButton = document.querySelector('.btn-save');
            const mainForm = document.getElementById('main-form');
            
            saveButton.addEventListener('click', function(e) {
                e.preventDefault();
                mainForm.submit();
            });
        });
    </script>
</body>
</html>